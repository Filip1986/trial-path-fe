// Base variables and mixins
$element-transition: all 0.2s ease;
$primary-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
$hover-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
$preview-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);

// Common reusable mixins
@mixin card-style {
  border: 1px solid var(--surface-border);
  border-radius: 4px;
  background-color: var(--surface-card);
}

// Animations
@keyframes point-left {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(-5px); }
}

@keyframes scale-in {
  from { transform: scale(0.8); opacity: 0.5; }
  to { transform: scale(1); opacity: 0.8; }
}

@keyframes pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.3; }
}

.ecrf2-builder {
  font-family: var(--font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif);
  min-height: 100vh;

  // Card styling
  .card {
    @include card-style;
    box-shadow: $primary-shadow;
    transition: $element-transition;

    &:hover {
      box-shadow: $hover-shadow;
    }
  }

  // Element styling
  .form-element-wrapper {
    transition: $element-transition;

    &:hover {
      transform: translateY(-2px);
    }
  }

  // Form canvas styling
  .form-canvas {
    min-height: 400px;
    padding: 1rem;
    background-color: var(--surface-ground);
    border-radius: 4px;
    border: 2px dashed var(--surface-border);
    transition: all 0.3s ease;

    // Empty state
    .empty-canvas-message {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 300px;
      opacity: 0.6;

      i {
        font-size: 2rem;
        margin-bottom: 1rem;
        animation: point-left 1.5s infinite;
        color: var(--primary-color);
      }

      p {
        font-size: 1.2rem;
      }
    }
  }

  // Debug mode styling
  .debug-panel {
    margin-top: 1rem;
    padding: 0.75rem;
    background-color: rgba(var(--primary-color-rgb), 0.1);
    border-radius: 4px;
    border: 1px solid rgba(var(--primary-color-rgb), 0.2);

    .debug-title {
      font-weight: 600;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .debug-content {
      font-size: 0.875rem;
      color: var(--text-color-secondary);
    }
  }

  // Responsive styling
  @media screen and (max-width: 768px) {
    .col-span-3, .col-span-9 {
      grid-column: span 12;
    }
  }
}

// Drag and drop styling
.cdk-drag-preview {
  box-sizing: border-box;
  border-radius: 4px;
  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),
  0 8px 10px 1px rgba(0, 0, 0, 0.14),
  0 3px 14px 2px rgba(0, 0, 0, 0.12);
}

.cdk-drop-list-dragging {
  background-color: var(--surface-hover);
  border-color: var(--primary-color);
}
