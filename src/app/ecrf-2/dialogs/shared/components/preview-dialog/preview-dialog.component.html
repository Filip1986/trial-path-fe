<p-dialog
  [(visible)]="visible"
  [dismissableMask]="true"
  [draggable]="false"
  [modal]="true"
  [resizable]="false"
  [style]="{width: '90vw', maxWidth: '1200px'}"
  header="Form Preview"
  >
  Filip
  <div class="dialog-header flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700">
    <h2 class="text-xl font-semibold">{{ form.title }}</h2>
    <div class="theme-toggle">
      <button
        (click)="toggleTheme()"
        [class.bg-blue-100]="!isDarkTheme"
        [class.bg-blue-700]="isDarkTheme"
        [title]="isDarkTheme ? 'Switch to Light Theme' : 'Switch to Dark Theme'"
        class="p-2 rounded-full transition-colors"
        >
        <i [class]="isDarkTheme ? 'pi pi-sun text-white' : 'pi pi-moon text-blue-700'"></i>
      </button>
    </div>
  </div>

  <div class="form-preview-container">
    @if (form.description) {
      <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
        {{ form.description }}
      </p>
    }

    <!-- Form preview component -->
    <app-form-preview [form]="form" />
  </div>

  <ng-template pTemplate="footer">
    <button (click)="hideDialog()" class="p-button-primary" label="Close Preview" pButton></button>
  </ng-template>
</p-dialog>
